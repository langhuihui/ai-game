extends layout

block content
  h2.mb-4
    i.bi.bi-gear-fill.me-2
    | MCP INTERFACE / 接口配置
  
  .row
    .col-md-6
      h4
        i.bi.bi-code-slash.me-2
        | SSE CONFIG / SSE配置 (推荐)
      .card
        .card-header.d-flex.justify-content-between.align-items-center
          span
            i.bi.bi-file-code.me-1
            | mcp.json
          button.btn.btn-sm.btn-outline-primary(onclick="copyToClipboard('sseConfig')")
            i.bi.bi-clipboard
            |  COPY / 复制
        .card-body
          pre#sseConfig.mb-0
            code.
              {
                "mcpServers": {
                  "matrix": {
                    "url": "http://localhost:3000/mcp"
                  }
                }
              }
    
    .col-md-6
      h4
        i.bi.bi-power.me-2
        | BOOT SEQUENCE / 启动说明
      .card
        .card-body
          h6
            i.bi.bi-1-circle.me-1
            | 启动矩阵服务器
          pre.bg-light.p-2.rounded
            code npm start
          
          h6.mt-3
            i.bi.bi-2-circle.me-1
            | 配置 MCP 接口
          p.small 复制上面的配置到 mcp.json 文件
          
          h6.mt-3
            i.bi.bi-3-circle.me-1
            | 重启 Cursor 编辑器
          
          .alert.alert-success.mt-3
            i.bi.bi-check-circle
            |  
            strong ACCESS GRANTED：
            |  SSE 连接支持真正的多人联机，所有客户端共享同一个矩阵世界！
          
          .alert.alert-warning.mt-3
            i.bi.bi-exclamation-triangle
            |  
            strong WARNING：
            |  确保矩阵服务器正在运行，否则 MCP 工具将无法使用。
  
  .row.mt-4
    .col-12
      h4
        i.bi.bi-list-check.me-2
        | AVAILABLE TOOLS / 可用工具列表
      .card
        .card-body
          .row
            each category in categories
              .col-md-6.col-lg-4.mb-3
                .card
                  .card-header
                    h6.mb-0
                      i.bi.bi-folder2-open.me-1
                      | #{category.name}
                  .card-body
                    each tool in category.tools
                      .d-flex.justify-content-between.align-items-center.mb-2
                        div
                          code.text-primary= tool.name
                          br
                          small.text-muted= tool.description
  
  .row.mt-4
    .col-12
      h4
        i.bi.bi-info-circle.me-2
        | SERVER INFO / 服务器信息
      .card
        .card-body
          .row
            .col-md-6
              p
                strong SERVER_NAME：
                |  matrix-game
              p
                strong VERSION：
                |  1.0.0
              p
                strong PROTOCOL：
                |  sse
            .col-md-6
              p
                strong TOOL_COUNT：
                |  #{totalTools}
              p
                strong STATUS：
                |  
                span.badge.bg-success
                  i.bi.bi-check-circle.me-1
                  | ONLINE
              p
                strong BOOT_TIME：
                |  #{serverStartTime}

