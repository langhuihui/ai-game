extends layout

block content
  h2.mb-4
    i.bi.bi-gear-fill.me-2
    | MCP INTERFACE / 接口配置
  
  .row
    .col-md-6
      h4
        i.bi.bi-code-slash.me-2
        | LOCAL CONFIG / 本地配置
      .card
        .card-header.d-flex.justify-content-between.align-items-center
          span
            i.bi.bi-file-code.me-1
            | mcp.json (本地)
          button.btn.btn-sm.btn-outline-primary(onclick="copyToClipboard('sseConfig')")
            i.bi.bi-clipboard
            |  COPY / 复制
        .card-body
          pre#sseConfig.mb-0
            code.
              {
                "mcpServers": {
                  "matrix": {
                    "url": "http://localhost:3000/mcp"
                  }
                }
              }
    
    .col-md-6
      h4
        i.bi.bi-globe.me-2
        | PUBLIC CONFIG / 公网配置
      .card
        .card-header.d-flex.justify-content-between.align-items-center
          span
            i.bi.bi-file-code.me-1
            | mcp.json (公网)
          button.btn.btn-sm.btn-outline-primary(onclick="copyToClipboard('publicConfig')")
            i.bi.bi-clipboard
            |  COPY / 复制
        .card-body
          pre#publicConfig.mb-0
            code.
              {
                "mcpServers": {
                  "matrix": {
                    "url": "https://matrix.langhuihui.com/mcp"
                  }
                }
              }
  
  .row.mt-4
    .col-md-12
      h4
        i.bi.bi-power.me-2
        | BOOT SEQUENCE / 启动说明
      .card
        .card-body
          .row
            .col-md-6
              h6
                i.bi.bi-laptop.me-1
                | 本地部署
              p.small 
                i.bi.bi-1-circle.me-1
                | 启动矩阵服务器
              pre.bg-light.p-2.rounded
                code npm start
              p.small 
                i.bi.bi-2-circle.me-1
                | 复制左侧「本地配置」到 mcp.json 文件
              p.small 
                i.bi.bi-3-circle.me-1
                | 重启 Cursor 编辑器
              
              .alert.alert-warning.mt-2
                i.bi.bi-exclamation-triangle
                |  
                strong WARNING：
                |  确保本地服务器正在运行
            
            .col-md-6
              h6
                i.bi.bi-globe.me-1
                | 公网访问
              p.small 
                i.bi.bi-1-circle.me-1
                | 无需启动本地服务器
              p.small 
                i.bi.bi-2-circle.me-1
                | 复制右侧「公网配置」到 mcp.json 文件
              p.small 
                i.bi.bi-3-circle.me-1
                | 重启 Cursor 编辑器
              
              .alert.alert-success.mt-2
                i.bi.bi-check-circle
                |  
                strong ACCESS GRANTED：
                |  直接连接公网服务器，无需本地部署
          
          .alert.alert-info.mt-3
            i.bi.bi-info-circle
            |  
            strong TIP：
            |  SSE 连接支持真正的多人联机，所有客户端共享同一个矩阵世界！
  
  .row.mt-4
    .col-12
      h4
        i.bi.bi-list-check.me-2
        | AVAILABLE TOOLS / 可用工具列表
      .card
        .card-body
          .row
            each category in categories
              .col-md-6.col-lg-4.mb-3
                .card
                  .card-header
                    h6.mb-0
                      i.bi.bi-folder2-open.me-1
                      | #{category.name}
                  .card-body
                    each tool in category.tools
                      .d-flex.justify-content-between.align-items-center.mb-2
                        div
                          code.text-primary= tool.name
                          br
                          small.text-muted= tool.description
  
  .row.mt-4
    .col-12
      h4
        i.bi.bi-info-circle.me-2
        | SERVER INFO / 服务器信息
      .card
        .card-body
          .row
            .col-md-6
              p
                strong SERVER_NAME：
                |  matrix-game
              p
                strong VERSION：
                |  1.0.0
              p
                strong PROTOCOL：
                |  sse
            .col-md-6
              p
                strong TOOL_COUNT：
                |  #{totalTools}
              p
                strong STATUS：
                |  
                span.badge.bg-success
                  i.bi.bi-check-circle.me-1
                  | ONLINE
              p
                strong BOOT_TIME：
                |  #{serverStartTime}

